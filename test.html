<!DOCTYPE html>
<html lang="en">

<head>
    <title>Document</title>
    <style>
        * {
            border: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            background: #f1f1f1;
        }

        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.2em;
            border-bottom: 1px solid gainsboro;
            background: white;
        }

        header * {
            cursor: pointer;
        }

        .productscontainer {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 5px;
            padding: 1.2em;
            background: #f2f2f2;
        }

        .sticky {
            position: fixed;
            width: 100%;
            top: 0;
        }

        .productscontainer .product {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            background: white;
            padding: 10px;
            border: 1px solid gainsboro;
            border-radius: 15px;
        }

        .product img {
            border-bottom: 1px solid gainsboro;
        }

        .priceandaddtocart {
            display: flex;
            justify-content: space-between;
            width: 100%;
            align-items: center;
            margin-top: auto;
        }

        .carticon {
            display: flex;
            gap: 16px;
        }

        .carticon::after {
            content: attr(items);
        }

        .cartui {
            width: 45vw;
            background: white;
            padding: 15px;
            display: flex;
            flex-direction: column;
            position: fixed;
            right: -999px;
            top: 0;
            transition: all 0.5s ease;
            z-index: 99;
            height: 100vh;
        }

        .cartopened {
            right: 0;
        }

        .cartui .closecart {
            border-bottom: 1px solid gainsboro;
            margin-bottom: 1.5em;
            cursor: pointer;
        }

        .cartui .pccontainer {
            height: 75vh;
            overflow-y: scroll;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .nameandprice {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            margin: 1.2em 0;
        }

        .pnp {
            display: flex;
            gap: 15px;
        }

        button {
            cursor: pointer;
            padding: 15px;
            border-radius: 10px;
            background: #243358;
            box-shadow: 3px 2px 5px gainsboro;
            color: white;
            transition: transform .3s linear;
        }

        button:hover {
            transform: translateY(-3px);
        }

        .overlay {
            background: rgba(51, 51, 51, 0.282);
            position: fixed;
            width: 100vw;
            height: 100vh;
            z-index: 99;
            display: none;
        }

        .cartproduct {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid gainsboro;
        }

        .cartproduct img {
            width: 30px;
            height: 30px;
            object-fit: cover;
            border-radius: 50%;
        }

        .cartproduct span {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <header>
        <div class="logo">Logo</div>
        <div class="carticon" items="0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path
                    d="M21 20c-.4 0-.7-.1-1-.4l-6-5H9v2c0 .6-.4 1-1 1H5c-.6 0-1-.4-1-1v-2H3c-.6 0-1-.4-1-1V8c0-.6.4-1 1-1h2V5c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v1h2c.6 0 1 .4 1 1v6c0 .6-.4 1-1 1h-2v2c0 .6-.4 1-1 1zM5 10h2v6H5v-6zm4 0h2v6H9v-6zm4 0h2v6h-2v-6zm4 0h2v6h-2v-6z" />
            </svg>
            <span>Cart</span>
        </div>
    </header>

    <section class="productscontainer">
        <!-- Product items will be dynamically generated here -->
    </section>

    <div class="overlay"></div>

    <div class="cartui">
        <div class="closecart">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path
                    d="M7.4 6l5.3 5.3 5.3-5.3 1.4 1.4-5.3 5.3 5.3 5.3-1.4 1.4-5.3-5.3-5.3 5.3-1.4-1.4 5.3-5.3-5.3-5.3L7.4 6zM2 2h20v20H2V2zm17.6 17.6L4.4 2.4 6 1 22 17 20.6 18.4z" />
            </svg>
        </div>
        <div class="pccontainer">
            <!-- Cart products will be dynamically generated here -->
        </div>
        <button>Checkout</button>
    </div>

    <script>
        let productsList = [
            {
                id: 1,
                title: "Product 1",
                price: 10.99,
                description: "This is product 1.",
                category: "Category 1",
                image: "product1.jpg"
            },
            {
                id: 2,
                title: "Product 2",
                price: 19.99,
                description: "This is product 2.",
                category: "Category 2",
                image: "product2.jpg"
            },
            {
                id: 3,
                title: "Product 3",
                price: 7.99,
                description: "This is product 3.",
                category: "Category 1",
                image: "product3.jpg"
            }
        ];

        const productsContainer = document.querySelector(".productscontainer");
        const cartIcon = document.querySelector(".carticon");
        const cartUI = document.querySelector(".cartui");
        const closeCartBtn = document.querySelector(".closecart");
        const overlay = document.querySelector(".overlay");
        const cartContainer = document.querySelector(".pccontainer");

        let cartItems = 0;

        function generateProductItem(product) {
            const productItem = document.createElement("div");
            productItem.classList.add("product");
            productItem.innerHTML = `
                <img src="${product.image}" alt="${product.title}">
                <div class="nameandprice">
                    <div class="pnp">
                        <span class="name">${product.title}</span>
                        <span class="price">$${product.price}</span>
                    </div>
                    <button class="addtocart">Add to Cart</button>
                </div>
            `;
            return productItem;
        }

        function generateCartProduct(product) {
            const cartProduct = document.createElement("div");
            cartProduct.classList.add("cartproduct");
            cartProduct.innerHTML = `
                <img src="${product.image}" alt="${product.title}">
                <span>${product.title}</span>
                <span>$${product.price}</span>
                <button class="removefromcart">Remove</button>
            `;
            return cartProduct;
        }

        function addToCart(product) {
            cartItems++;
            cartIcon.setAttribute("items", cartItems);
            const cartProduct = generateCartProduct(product);
            cartContainer.appendChild(cartProduct);
        }

        function removeFromCart(e) {
            const cartProduct = e.target.closest(".cartproduct");
            cartProduct.remove();
            cartItems--;
            cartIcon.setAttribute("items", cartItems);
        }

        function toggleCartUI() {
            cartUI.classList.toggle("cartopened");
            overlay.style.display = (cartUI.classList.contains("cartopened")) ? "block" : "none";
        }

        function initializeProducts() {
            productsList.forEach(product => {
                const productItem = generateProductItem(product);
                productsContainer.appendChild(productItem);

                const addToCartBtn = productItem.querySelector(".addtocart");
                addToCartBtn.addEventListener("click", () => addToCart(product));
            });
        }

        cartIcon.addEventListener("click", toggleCartUI);
        closeCartBtn.addEventListener("click", toggleCartUI);
        overlay.addEventListener("click", toggleCartUI);
        cartContainer.addEventListener("click", e => {
            if (e.target.classList.contains("removefromcart")) {
                removeFromCart(e);
            }
        });

        initializeProducts();
    </script>
</body>

</html>